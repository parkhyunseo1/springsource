<!DOCTYPE html>
<html lang="en" layout:decorate="~{/layouts/layout}">
  <div layout:fragment="content">
    <h2>Board Create</h2>

    <form th:action="@{/board/create}" method="post" th:object="${dto}">
      <div id="content"></div>
      <button class="btn btn-primary" type="submit">등록</button>

      <button class="btn btn-info" type="button">목록</button>
    </form>

    <!-- 목록 버튼 클릭 시 사용할 폼 -->
    <form th:action="@{list}" method="get" id="actionForm">
      <input type="hidden" name="page" th:value="${requestDto.page}" />
      <input type="hidden" name="size" th:value="${requestDto.size}" />
      <input type="hidden" name="type" th:value="${requestDto.type}" />
      <input type="hidden" name="keyword" th:value="${requestDto.keyword}" />
    </form>
  </div>
  <th:block layout:fragment="script">
    <script
      src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"
    ></script>
    <script>
      const editor = new toastui.Editor({
        el: document.querySelector("#content"), // 에디터를 적용할 요소 (컨테이너)
        height: "500px", // 에디터 영역의 높이 값 (OOOpx || auto)
        initialEditType: "wysiwyg", // 최초로 보여줄 에디터 타입 (markdown || wysiwyg)
        initialValue: "내용을 입력해 주세요.", // 내용의 초기 값으로, 반드시 마크다운 문자열 형태여야 함
        previewStyle: "vertical", // 마크다운 프리뷰 스타일 (tab || vertical)
      });
    </script>

    <script>
      document.querySelector(".btn-info").addEventListener("click", () => {
        actionForm.submit();
      });
    </script>
  </th:block>
</html>
